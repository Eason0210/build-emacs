#+title: Shell Script to Build Emacs

Bash Shell scripts for building [[https://git.savannah.gnu.org/cgit/emacs.git/][GNU/Emacs]] on macOS and Windows.

* Install dependencies
**  macOS
Install by macports
** Windows
Install by mingw64 with msys2

* Record the emacs commit from built
Set the build commit to  emacs-repository-version. ~C-h v emacs-repository-version~ to get the commit id.
#+begin_src emacs-lisp
(setq emacs-repository-version
      (string-trim (file-name-nondirectory (string-trim source-directory "" "/")) "emacs-"))

#+end_src

* Usage
#+begin_src bash
git clone https://github.com/Eason0210/build-emacs.git ~/src/build-emacs
cd ~/src/build-emacs

# Choose one of the following COMMAND to execute
./build-emacs.sh # build the emacs-29 default commit --with-native-compilation=aot
./build-emacs.sh --without-native-compilation # emacs-29 without native-comp
./build-emacs.sh master # build latest master branch
./build-emacs.sh <commit-id> # build the specified <commit-id>
./build-emacs.sh <commit-id> --without-native-compilation # disable native-comp

#+end_src
